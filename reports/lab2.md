# 编程作业

目标：

1. 引入虚拟内存后，`sys_get_time` 和 `sys_task_info` 失效，需要重新实现。
2. 实现 `sys_mmap`，申请长度为 len 字节的物理内存，将其映射到 start 开始的虚拟内存，内存页属性为 port。
3. 实现 `sys_munmap`，取消从 start 到 start + len 虚拟地址的映射。



方案：

1. 参数给定的地址为用户态下的虚拟地址，在内核态下需要进行软件虚实地址转换，得到实际存放的物理地址后，将需要获取的数据存放进去。
2. 在 `memory_set`、`frame_allocator` 中提供接口，以便判断是否能够进行物理页面的申请和映射，然后借助 `MemorySet::push` 将参数指定的虚拟内存段作为逻辑段插入地址空间中。
3. 先判断地址区间是否存在已经被映射的页面，然后在页表中取消页表项的映射，将逻辑段从 areas 中移除。

# 问答作业

TODO